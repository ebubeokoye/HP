{% extends "layout.html" %}

{% block body %}

    <div>
        <div style="width: 100%; height: 100px; background-color: #f7f2f2;">
            <h2>Profile</h2>
        </div>
        <div style="width: 800px; margin: auto; height: 200px; background-color: #f7f2f2; margin-top: 30px;
            border-radius: 15px; padding: 20px; box-sizing: border-box;">
            <div style="display: flex;">
                <i class="material-icons" style="font-size: 50px;">house</i>
                <div style="margin-left: 600px;">4.0</div>
            </div>
            <div style="margin-top: 20px;">Store name</div>
            <div>Store full address</div>
        </div>

        <div style="width: 800px; margin: auto; height: 200px; background-color: #f7f2f2; margin-top: 30px;
            border-radius: 15px; padding: 20px; box-sizing: border-box;">
            <div>Set up your store</div>
            <p style="text-indent: 50px;">You have a to-do list to set up your store fully</p>
            <p style="text-indent: 50px;">Set up store operations</p>
            <p style="text-indent: 50px;">Create your menu</p>
            <a>
                <div>Continue Setup ></div>
            </a>
        </div>

        <div style="width: 800px; margin: auto;">
            <div style="position: absolute; z-index: 1; bottom: 0; display: none; width: 800px; margin: auto;
                height: 300px; background-color: black; color: white; padding: 20px; box-sizing: border-box;
                border-radius: 15px;"
                id="notification-request">
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <div style="margin-top: 40px;">Allow notifications/order alert?</div>
                    <div style="margin-top: 30px;">Allow</div>
                    <div style="margin-top: 30px;" id="dont-allow-notification">Don't allow</div>
                </div>
            </div>
        </div>

        <div style="width: 800px; margin: auto; border-top: 2px solid #aaa; margin-top: 30px;">
            <div style="display: flex; align-items: center; width: 800px; height: 80px;"
                class="personal-profile-accordion">
                <div style=" flex: 90%;">Store Profile</div>
                <div style="margin-left: 600px; flex: 10%;"> v </div>
            </div>

            <div style="display: none; width: 800px; margin: auto;">
                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 30px; padding-left: 20px; display: flex; align-items: center;">
                    Store details
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Store operations
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Store insights
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Your Wallet
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Manage users
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Add new location
                </div>
            </div>

            <div style="width: 800px; margin: auto; margin-top: 30px;">
                <div style="display: flex; align-items: center; border-top: 2px solid #aaa; margin-top: 30px;
                    width: 800px; height: 80px;"
                    class="personal-profile-accordion">
                    <div style="flex: 90%;">Personal Profile</div>
                    <div style="margin-left: 600px; flex: 10%;"> v </div>
                </div>
                
                <div style="display: none; width: 800px; margin: auto;">
                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Personal details
                    </div>

                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Change password
                    </div>

                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Handbook
                    </div>
                </div>
            </div>

            <div style="width: 800px; margin: auto; margin-top: 30px;">
                <div style="display: flex; align-items: center; border-top: 2px solid #aaa; margin-top: 30px;
                    width: 800px; height: 80px; "
                    class="personal-profile-accordion">
                    <div style="flex: 90%;">App Preferences</div>
                    <div style="margin-left: 600px; flex: 10%;"> v </div>
                </div>

                <div style="display: none; width: 800px; margin: auto;">
                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Notifications
                    </div>

                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Reset PIN
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 50px; border-top: 2px solid #aaa">
                <a>
                    <div style="width: 700px; margin: auto; height: 50px; border: 1px solid red; margin-top: 30px;
                        border-radius: 15px; padding-left: 40px; display: flex; align-items: center;">
                        <div>Logout</div>
                    </div>   
                </a>          
            </div>

            <div style="width: 800px; margin: auto; margin-top: 40px; text-align: center;">
                <div>v1.0</div>
            </div>
        </div>
    </div>



    <script>

        let notificationRequest = document.getElementById("notification-request");
        document.addEventListener('DOMContentLoaded', function() {
            notificationRequest.style.display = "block";
            document.addEventListener('wheel', preventDefaultScrolling, {passive: false});
            document.addEventListener('touchmove', preventDefaultScrolling, {passive: false});
            document.addEventListener('keydown', preventScrollKeys);
        });

        function preventDefaultScrolling(e) {
            e.preventDefault();
            return false;
        }
        // prevent scrolling with  arrow/space keys
        function preventScrollKeys(e) {
            // Space: 32, PageUp: 33, PageDown: 34, End: 35, Home: 36, Left: 37, Up: 38, Right: 39, Down: 40
            const keys = [32, 33, 34, 35, 36, 37, 38, 39, 40];
            if (keys.includes(e.keyCode)) {
                return false;
            }
        }

        let dontAllowNotification = document.getElementById("dont-allow-notification");
        dontAllowNotification.addEventListener('click', function() {
            notificationRequest.style.display = "none";
            document.removeEventListener('wheel', preventDefaultScrolling, {passive: false});
            document.removeEventListener('touchmove', preventDefaultScrolling, {passive: false});
            document.removeEventListener('keydown', preventScrollKeys);
        });


        // -----------------------------------------------------------------------------------------------------

        
        let personalProfileAccordion = document.getElementsByClassName("personal-profile-accordion");
        for (i=0; i<personalProfileAccordion.length; i++) {
            personalProfileAccordion[i].addEventListener('click', function() {
                let displayPersonalProfile = this.nextElementSibling;

                if (displayPersonalProfile.style.display === "block") {
                    displayPersonalProfile.style.display = "none";
                } else {
                    displayPersonalProfile.style.display = "block";
                }
            });
        }
        


    </script>
{% endblock %}