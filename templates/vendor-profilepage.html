{% extends "layout.html" %}

{% block body %}

    <div>
        <div style="width: 100%; height: 100px; background-color: #f7f2f2;">
            <h2 style="margin-left: 100px;">Profile</h2>
        </div>
        <div style="width: 800px; margin: auto; height: 200px; background-color: #f7f2f2; margin-top: 30px;
            border-radius: 15px; padding: 20px; box-sizing: border-box;">
            <div style="display: flex;">
                <i class="material-icons" style="font-size: 50px;">house</i>
                <div style="margin-left: 600px;">4.0</div>
            </div>
            <div style="margin-top: 20px;">Store name</div>
            <div>Store full address</div>
        </div>

        <div style="display: flex; flex-direction: column; width: 800px; margin: auto; height: 250px;
            background-color: #f7f2f2; margin-top: 30px; border-radius: 15px; padding: 20px; box-sizing: border-box;">
            <div>Set up your store</div>
            <div>You have a to-do list to set up your store fully</div>

            <div style="display: flex; align-items: center;">            
                <input type="checkbox" id="storeinfo-checkbox" style="margin-left: -185px; padding: 0;">
                <label for="storeinfo-checkbox" style="margin-left: -183px;">KYC/Business verification</label>         
            </div>

            <div style="display: flex; align-items: center;">            
                <input type="checkbox" id="storeinfo-checkbox" style="margin-left: -185px; padding: 0;">
                <label for="storeinfo-checkbox" style="margin-left: -183px;">Add store information</label>         
            </div>

            <div style="display: flex; align-items: center;">            
                <input type="checkbox" id="storeinfo-checkbox" style="margin-left: -185px; padding: 0;">
                <label for="storeinfo-checkbox" style="margin-left: -183px;">Set up store operations</label>         
            </div>
            
            <div style="display: flex; align-items: center;">            
                <input type="checkbox" id="storeinfo-checkbox" style="margin-left: -185px; padding: 0;">
                <label for="storeinfo-checkbox" style="margin-left: -183px;">Create your menu</label>         
            </div>

            <a href="vendor_kyc_form">
                <div>Continue Setup ></div>
            </a>

        </div>

        <div style="width: 800px; margin: auto;">
            <div style="position: absolute; z-index: 1; bottom: 0; display: none; width: 800px; margin: auto;
                height: 300px; background-color: black; color: white; padding: 20px; box-sizing: border-box;
                border-radius: 15px;"
                id="notification-request">
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <div style="margin-top: 40px;">Allow notifications/order alert?</div>
                    <div style="margin-top: 30px;">Allow</div>
                    <div style="margin-top: 30px;" id="dont-allow-notification">Don't allow</div>
                </div>
            </div>
        </div>

        <div style="width: 800px; margin: auto; border-top: 2px solid #aaa; margin-top: 30px;">
            <a href="vendor_kyc_form">
                <div style="display: flex; align-items: center; text-overflow: ellipsis;
                    margin-top: 30px; width: 800px; height: 80px;"
                    class="personal-profile-accordion">
                    <div style="flex: 70%;">KYC/Business verification</div>
                    <div style=" flex: 20%; text-align: center; background-color: lightgreen; border: 1px solid green;
                        border-radius: 15px; padding: 5px;">Rejected</div>
                    <div style="margin-left: 450px; flex: 10%;"> > </div>
                </div>
            </a>      
        </div>

        <div style="width: 800px; margin: auto; margin-top: 30px;">
            <div style="display: flex; align-items: center; white-space: nowrap; text-overflow: ellipsis;
                border-top: 2px solid #aaa; margin-top: 30px; width: 800px; height: 80px; "
                class="personal-profile-accordion">
                <div style=" flex: 90%;">Store Profile</div>
                <div style="margin-left: 600px; flex: 10%;"> v </div>
            </div>

            <div style="display: none; width: 800px; margin: auto;">
                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 30px; padding-left: 20px; display: flex; align-items: center;">
                    Store details
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Store operations
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Store insights
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Your Wallet
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Manage users
                </div>

                <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                    margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                    Add new location
                </div>
            </div>

            <div style="width: 800px; margin: auto; margin-top: 30px;">
                <div style="display: flex; align-items: center; border-top: 2px solid #aaa; margin-top: 30px;
                    width: 800px; height: 80px;"
                    class="personal-profile-accordion">
                    <div style="flex: 90%;">Personal Profile</div>
                    <div style="margin-left: 600px; flex: 10%;"> v </div>
                </div>
                
                <div style="display: none; width: 800px; margin: auto;">
                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Personal details
                    </div>

                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Change password
                    </div>

                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Handbook
                    </div>
                </div>
            </div>

            <div style="width: 800px; margin: auto; margin-top: 30px;">
                <div style="display: flex; align-items: center; border-top: 2px solid #aaa; margin-top: 30px;
                    width: 800px; height: 80px; "
                    class="personal-profile-accordion">
                    <div style="flex: 90%;">App Preferences</div>
                    <div style="margin-left: 600px; flex: 10%;"> v </div>
                </div>

                <div style="display: none; width: 800px; margin: auto;">
                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Notifications
                    </div>

                    <div style="width: 800px; height: 80px; background-color: #f7f2f2; border-radius: 15px;
                        margin-top: 20px; padding-left: 20px; display: flex; align-items: center;">
                        Reset PIN
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 50px; border-top: 2px solid #aaa">          
                <div style="width: 700px; margin: auto; height: 50px; border: 1px solid red; margin-top: 30px;
                    border-radius: 15px; padding-left: 40px; display: flex; align-items: center;"
                        id="logout">
                    <div>Logout</div>
                </div>                 
            </div>


            <div style="width: 800px; margin: auto; margin-top: 40px; text-align: center;">
                <div>v1.0</div>
            </div>
        </div>
    </div>

    <!-- when logout is clicked, this appears at the middle of the viewport -->
    <div style="display: none; flex-direction: column; align-items: center; position: fixed; top: 0; left: 0;
        width: 100%; height: 100%; background-color: rgba(0,0,0,0.3);" id="modal-to-logout">
        <div style="width: 800px;
            margin: auto; height: 200px; color: white; background-color: rgb(56, 55, 55); z-index: 1;">
            <div style="padding: 30px; margin: auto;">
                <div>Hold on...</div>
                <div style="margin-top: 20px;">Are you sure you want to log out?</div>
                <div style="display: flex; justify-content: center; width: 800px; margin-top: 70px;
                    margin-left: 50px;">
                    <a id="cancel-logout-btn">
                        <div>NO</div>
                    </a>
                    <a href="after_logout_page" style="margin-left: 50px; text-decoration: none; color: white;">
                        <div>YES</div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div style="position: fixed; bottom: 50px; right: 100px; width: 50px; height: 50px; border-radius: 50%;
        background-color: #0056b3; display: flex; justify-content: center; align-items: center; z-index: 1;">
        <i class="material-icons" style="font-size: 35px; color: white; text-align: center;">message</i>
    </div>

    <div class="agent-homepage-navlist-container">
        <div class="user-homepage-navlist-subdiv">
            <div style="color: black; position: absolute;">Orders</div>
            <a href="vendor_homepage" class="agent-homepage-navlist-link">
                <img src="{{url_for ('static', filename='user-home-icon.jpg') }}" class="users-homepage-navicon">
            </a>

            <div style="color: black; position: absolute;">Items listing</div>
            <a href="vendor_listing" class="agent-homepage-navlist-link">
                <img src="{{url_for ('static', filename='land-icon.jpg') }}" class="users-homepage-navicon">
            </a>

            <div style="color: black; position: absolute;">Appointments</div>
            <a href="agent_rent_listing" class="agent-homepage-navlist-link">
                <img src="{{url_for ('static', filename='user-rent-icon.jpg') }}" class="users-homepage-navicon">
            </a>

            <div style="color: black; position: absolute;">Insights</div>
            <a href="insights_page_housingagent" class="agent-homepage-navlist-link">
                <img src="{{url_for ('static', filename='user-houseitems-icon.jpg') }}" class="users-homepage-navicon">
            </a>

            <div style="color: black; position: absolute;">Account</div>
            <a href="vendor_profilepage" class="agent-homepage-navlist-link">
                <img src="{{url_for ('static', filename='user-account-icon.jpg') }}" class="users-homepage-navicon">
            </a>
        </div>
    
    </div>


    <script>

        let notificationRequest = document.getElementById("notification-request");
        document.addEventListener('DOMContentLoaded', function() {
            notificationRequest.style.display = "block";
            document.addEventListener('wheel', preventDefaultScrolling, {passive: false});
            document.addEventListener('touchmove', preventDefaultScrolling, {passive: false});
            document.addEventListener('keydown', preventScrollKeys);
        });

        function preventDefaultScrolling(e) {
            e.preventDefault();
            return false;
        }
        // prevent scrolling with  arrow/space keys
        function preventScrollKeys(e) {
            // Space: 32, PageUp: 33, PageDown: 34, End: 35, Home: 36, Left: 37, Up: 38, Right: 39, Down: 40
            const keys = [32, 33, 34, 35, 36, 37, 38, 39, 40];
            if (keys.includes(e.keyCode)) {
                return false;
            }
        }

        let dontAllowNotification = document.getElementById("dont-allow-notification");
        dontAllowNotification.addEventListener('click', function() {
            notificationRequest.style.display = "none";
            document.removeEventListener('wheel', preventDefaultScrolling, {passive: false});
            document.removeEventListener('touchmove', preventDefaultScrolling, {passive: false});
            document.removeEventListener('keydown', preventScrollKeys);
        });


        // -----------------------------------------------------------------------------------------------------

        
        let personalProfileAccordion = document.getElementsByClassName("personal-profile-accordion");
        for (i=0; i<personalProfileAccordion.length; i++) {
            personalProfileAccordion[i].addEventListener('click', function() {
                let displayPersonalProfile = this.nextElementSibling;

                if (displayPersonalProfile.style.display === "block") {
                    displayPersonalProfile.style.display = "none";
                } else {
                    displayPersonalProfile.style.display = "block";
                }
            });
        }

        // --------------------------------------------------------------------------------------------------------

        let logOut = document.getElementById("logout");
        let modalToLogout = document.getElementById("modal-to-logout");
        logOut.addEventListener('click', function() {

            modalToLogout.style.display = "flex";
            cancelLogoutBtn = document.getElementById("cancel-logout-btn");

            cancelLogoutBtn.addEventListener('click', function() {
                modalToLogout.style.display = "none";
            });
        });
        


    </script>
{% endblock %}